record(bo, "$(P)SIM")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(VAL, "$(RECSIM=0)")
}

record(calc, "$(P)STAT:POWER:_CALC")
{
  field(INPA, "$(P)VOLT.VAL CP MS")
  field(CALC, A<0.1) #PSU off if voltage across DAQ is <0.1
}

record(bi, "$(P)POWER")
{
  field(DESC, "PSU Power Status")
  field(INP, "$(P)STAT:POWER:_CALC CP")
  field(DTYP, "Soft Channel")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(SIML, "$(P)SIM")
  field(SIOL, "$(P)SIM:STAT:POWER")
  field(SDIS, "$(P)DISABLE")
}

record(bo, "$(P)POWER:SP")
{
  field(SCAN, "Passive")
  field(DTYP, "Soft Channel")
  field(OUT,  "$(DAQMX):W02:DATA:_RAW CP MS")
  field(ZNAM, "OFF")
  field(ONAM, "ON")
  field(SIML, "$(P)SIM")
  field(SIOL, "$(P)SIM:POWER:SP")
  field(SDIS, "$(P)DISABLE")
}
